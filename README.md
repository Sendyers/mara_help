# Mara Android User Help Library

This library lets you easily add a support setion to your app.

## Usage

Add this to the `build.gradle` file of your module

    dependencies {
        compile 'com.sendyit.mara:mara:0.5.0'
    }

## Sample Code

First you need to create an instance of Mara:

    Mara mara = new Mara(getApplicationContext(), Constants.GET_COLLECTION, Constants.POST_ARTICLE_REVIEW, Constants.POST_FORM);

All you need to do now is call `showHelp();` to show the support section.

## Parameters

You're going to need some parameters beforehand in order to successfully show your support content:

+ **Context**: This is the context of your current activity/fragment.
+ **Collection Endpoint**: This is the end point from which Mara can get your entire support JSON object.
+ **Post Article Review Endpoint**: This is the end point to which Mara can post a boolean whether the user found the article useful or not.
+ **Post Form Endpoint**: This is the end point to which Mara can post form data if the article required form feedback.

You must provide all of these parameters or else you will receive an error.

## JSON Support Data

Here's the schema for the data required from the collection end point. The collection is just a JSON object with your categories, sub-categories and articles.

`{"$schema":"http://json-schema.org/draft-04/schema#","definitions":{},"id":"http://example.com/example.json","properties":{"categories":{"id":"/properties/categories","items":{"id":"/properties/categories/items","properties":{"articles":{"id":"/properties/categories/items/properties/articles","items":{},"type":"array"},"description":{"id":"/properties/categories/items/properties/description","type":"string"},"id":{"id":"/properties/categories/items/properties/id","type":"integer"},"subCategories":{"id":"/properties/categories/items/properties/subCategories","items":{"id":"/properties/categories/items/properties/subCategories/items","properties":{"articles":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles","items":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items","properties":{"actions":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/actions","items":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/actions/items","properties":{"actionId":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/actions/items/properties/actionId","type":"integer"},"actionName":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/actions/items/properties/actionName","type":"string"},"actionType":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/actions/items/properties/actionType","type":"string"},"actionUrl":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/actions/items/properties/actionUrl","type":"string"}},"type":"object"},"type":"array"},"description":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/description","type":"string"},"id":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/id","type":"integer"},"image":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/image","type":"string"},"responseType":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/responseType","type":"integer"},"title":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/title","type":"string"},"type":{"id":"/properties/categories/items/properties/subCategories/items/properties/articles/items/properties/type","type":"integer"}},"type":"object"},"type":"array"},"description":{"id":"/properties/categories/items/properties/subCategories/items/properties/description","type":"string"},"id":{"id":"/properties/categories/items/properties/subCategories/items/properties/id","type":"integer"},"subCategories":{"id":"/properties/categories/items/properties/subCategories/items/properties/subCategories","items":{},"type":"array"},"title":{"id":"/properties/categories/items/properties/subCategories/items/properties/title","type":"string"},"type":{"id":"/properties/categories/items/properties/subCategories/items/properties/type","type":"integer"}},"type":"object"},"type":"array"},"title":{"id":"/properties/categories/items/properties/title","type":"string"},"type":{"id":"/properties/categories/items/properties/type","type":"integer"}},"type":"object"},"type":"array"},"collectionId":{"id":"/properties/collectionId","type":"integer"},"collectionName":{"id":"/properties/collectionName","type":"string"}},"type":"object"}`

## Data Examples

Here is a sample JSON Object that Mara can consume and display. It includes actions with deeplinks and forms for feedback:

`{"collectionId":0,"collectionName":"Collection Name","categories":[{"id":0,"title":"Category Title 1","description":"Lorem ipsum dolor sit amet","subCategories":[{"id":0,"title":"Sub Category Title 1","description":"Lorem ipsum dolor sit amet","subCategories":[],"articles":[{"id":0,"title":"Article Title 1","description":"Lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet","image":"","responseType":1,"actions":[{"actionId":0,"actionName":"Link to Browser","actionType":"Lorem ipsum dolor sit amet","actionUrl":"http://foobar.com"},{"actionId":1,"actionName":"Main Activity","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://main"},{"actionId":2,"actionName":"Payments","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://payments"},{"actionId":3,"actionName":"Order History","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://order_history"},{"actionId":4,"actionName":"Preferences","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://preferences"},{"actionId":5,"actionName":"Chat","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://chat"},{"actionId":6,"actionName":"Edit Profile","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://edit_profile"}],"type":2},{"id":1,"title":"Article Title 2","description":"Lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet","image":"","responseType":2,"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2},{"id":2,"title":"Article Title 3","description":"Lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet lorem ipsum dolor sit amet","image":"https://s3.amazonaws.com/poly-screenshots.angel.co/enhanced_screenshots/364459-original.png","responseType":0,"type":2}],"type":1},{"id":1,"title":"Sub Category Title 2","description":"Lorem ipsum dolor sit amet","subCategories":[],"articles":[{"id":0,"title":"Article Title 1","description":"Lorem ipsum dolor sit amet","image":"","responseType":2,"actions":[{"actionId":0,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"},{"actionId":1,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"}],"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2},{"id":1,"title":"Article Title 2","description":"Lorem ipsum dolor sit amet","image":"","responseType":2,"actions":[{"actionId":0,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"},{"actionId":1,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"}],"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2},{"id":2,"title":"Article Title 3","description":"Lorem ipsum dolor sit amet","image":"","responseType":1,"actions":[{"actionId":0,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"},{"actionId":1,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"}],"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2}],"type":1}],"articles":[],"type":0},{"id":1,"title":"Category Title 2","description":"Lorem ipsum dolor sit amet","subCategories":[],"articles":[{"id":0,"title":"Article Title 1","description":"Lorem ipsum dolor sit amet","image":"","responseType":0,"actions":[{"actionId":0,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"},{"actionId":1,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"}],"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2},{"id":1,"title":"Article Title 2","description":"Lorem ipsum dolor sit amet","image":"","responseType":2,"actions":[{"actionId":0,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"},{"actionId":1,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"}],"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2},{"id":2,"title":"Article Title 3","description":"Lorem ipsum dolor sit amet","image":"","responseType":1,"actions":[{"actionId":0,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"},{"actionId":1,"actionName":"Action Title","actionType":"Lorem ipsum dolor sit amet","actionUrl":"sendy-help://action_name"}],"form":{"formId":0,"formTitle":"Complaint","formDescription":"Please write details of your complaint below","submitText":"Submit","fields":[{"fieldName":"title","fieldText":"Rider name"},{"fieldName":"description","fieldText":"What happened"}]},"type":2}],"type":1}]}`

